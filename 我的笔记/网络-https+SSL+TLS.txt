HTTPS，是建立在 SSL 协议之上的 HTTP 协议，就是身披了一层 SSL 的 HTTP，HTTPS 比 HTTP 要更耗费服务器资源
HTTPS 协议需要到 CA（Certificate Authority，数字证书认证机构）申请证书，一般免费证书较少，因而需要一定费用
HTTP 是明文传输，数据未加密，安全性差；HTTPS 则是具有安全性的ssl加密传输协议，安全性好。
HTTP 和 HTTPS，使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。
HTTP 页面响应速度比 HTTPS 快，因为 HTTP 使用TCP三次握手建立连接，客户端和服务器需要交换 3 个包，而 HTTPS 除了TCP的三个包，还要加上 SSL 握手需要的 9 个包，所以一共是 12 个包。

SSL（Secure Sockets Layer），安全套接字协议
TLS（Transport Layer Security），传输层安全性协议
（TLS是SSL的升级版，两者几乎是一样的）

探讨 HTTPS 的握手过程，其实就是 SSL/TLS 的握手过程。
TLS 旨在为 Internet 提供通信安全的加密协议。TLS 握手是启动和使用 TLS 加密的通信会话的过程。在 TLS 握手期间，Internet 中的通信双方会彼此交换信息，验证密码套件，交换会话密钥。
每当用户通过 HTTPS 导航到具体的网站并发送请求时，就会进行 TLS 握手。除此之外，每当其他任何通信使用HTTPS（包括 API 调用和在 HTTPS 上查询 DNS）时，也会发生 TLS 握手。
TLS 具体的握手过程会根据所使用的密钥交换算法的类型和双方支持的密码套件而不同。



面试题：
一、介绍下 HTTPS 中间人攻击：
针对 HTTPS 攻击主要有 SSL 劫持攻击和 SSL 剥离攻击两种。
1、SSL 劫持攻击是指攻击者劫持了客户端和服务器之间的连接，将服务器的合法证书替换为伪造的证书，从而获取客户端和服务器之间传递的信息。这种方式一般容易被用户发现，浏览器会明确的提示证书错误，但某些用户安全意识不强，可能会点击继续浏览，从而达到攻击目的。
2、SSL 剥离攻击是指攻击者劫持了客户端和服务器之间的连接，攻击者保持自己和服务器之间的 HTTPS 连接，但发送给客户端普通的 HTTP 连接，由于 HTTP 连接是明文传输的，即可获取客户端传输的所有明文数据。

二、介绍HTTPS 握手过程：
1、首先是 tcp 的三次握手建立连接
2、客户端请求服务器，并告诉服务器自身支持的加密算法以及密钥长度等信息
3、服务器响应公钥和服务器证书
4、客户端验证证书是否合法，然后生成一个会话密钥，并用服务器的公钥加密密钥，把加密的结果通过请求发送给服务器
5、服务器使用私钥解密被加密的会话密钥并保存起来，然后使用会话密钥加密消息响应给客户端，表示自己已经准备就绪
6、客户端使用会话密钥解密消息，知道了服务器已经准备就绪。后续客户端和服务器使用会话密钥加密信息传递消息

三、HTTPS 握手过程中，客户端如何验证证书的合法性：
1、校验证书的颁发机构是否受客户端信任。
2、通过 CRL 或 OCSP 的方式校验证书是否被吊销。
3、对比系统时间，校验证书是否在有效期内。
4、通过校验对方是否存在证书的私钥，判断证书的网站域名是否与证书颁发的域名一致。

四、https 验证身份也就是 TSL/SSL 身份验证的过程：
1、客户端请求服务器，并告诉服务器自身支持的加密算法以及密钥长度等信息
2、服务器响应公钥和服务器证书
3、客户端验证证书是否合法，然后生成一个会话密钥，并用服务器的公钥加密密钥，把加密的结果通过请求发送给服务器
4、服务器使用私钥解密被加密的会话密钥并保存起来，然后使用会话密钥加密消息响应给客户端，表示自己已经准备就绪
5、客户端使用会话密钥解密消息，知道了服务器已经准备就绪。
6、后续客户端和服务器使用会话密钥加密信息传递消息

五、为什么需要 CA 机构对证书签名？
主要是为了解决证书的可信问题。如果没有权威机构对证书进行签名，客户端就无法知晓证书是否是伪造的，从而增加了中间人攻击的风险，https 就变得毫无意义。



